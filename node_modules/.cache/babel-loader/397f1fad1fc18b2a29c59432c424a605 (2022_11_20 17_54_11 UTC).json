{"ast":null,"code":"import{userConstants}from'../_constants';import{userService}from'../_services';import{alertActions}from'.';import{history}from'../_helpers';export var userActions={login:login,logout:logout,register:register,getAll:getAll,delete:_delete};function login(username,password){return function(dispatch){dispatch(request({username:username}));userService.login(username,password).then(function(user){dispatch(success(user));history.push('/');},function(error){dispatch(failure(error.toString()));dispatch(alertActions.error(error.toString()));});};function request(user){return{type:userConstants.LOGIN_REQUEST,user:user};}function success(user){return{type:userConstants.LOGIN_SUCCESS,user:user};}function failure(error){return{type:userConstants.LOGIN_FAILURE,error:error};}}function logout(){userService.logout();return{type:userConstants.LOGOUT};}function register(user){return function(dispatch){dispatch(request(user));userService.register(user).then(function(user){dispatch(success());history.push('/login');dispatch(alertActions.success('Registration successful'));},function(error){dispatch(failure(error.toString()));dispatch(alertActions.error(error.toString()));});};function request(user){return{type:userConstants.REGISTER_REQUEST,user:user};}function success(user){return{type:userConstants.REGISTER_SUCCESS,user:user};}function failure(error){return{type:userConstants.REGISTER_FAILURE,error:error};}}function getAll(){return function(dispatch){dispatch(request());userService.getAll().then(function(users){return dispatch(success(users));},function(error){return dispatch(failure(error.toString()));});};function request(){return{type:userConstants.GETALL_REQUEST};}function success(users){return{type:userConstants.GETALL_SUCCESS,users:users};}function failure(error){return{type:userConstants.GETALL_FAILURE,error:error};}}// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id){return function(dispatch){dispatch(request(id));userService.delete(id).then(function(user){return dispatch(success(id));},function(error){return dispatch(failure(id,error.toString()));});};function request(id){return{type:userConstants.DELETE_REQUEST,id:id};}function success(id){return{type:userConstants.DELETE_SUCCESS,id:id};}function failure(id,error){return{type:userConstants.DELETE_FAILURE,id:id,error:error};}}","map":{"version":3,"names":["userConstants","userService","alertActions","history","userActions","login","logout","register","getAll","delete","_delete","username","password","dispatch","request","then","user","success","push","error","failure","toString","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","users","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","id","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE"],"sources":["C:/Users/ezekm/SCFoundation/src/_actions/user.actions.js"],"sourcesContent":["import { userConstants } from '../_constants';\r\nimport { userService } from '../_services';\r\nimport { alertActions } from '.';\r\nimport { history } from '../_helpers';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    delete: _delete\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => { \r\n                    dispatch(success());\r\n                    history.push('/login');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    return dispatch => {\r\n        dispatch(request(id));\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            );\r\n    };\r\n\r\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}