{"ast":null,"code":"import{userConstants}from'../_constants';import{userService}from'../_services';import{alertActions}from'.';import{history}from'../_helpers';export var userActions={login:login,logout:logout,register:register,getAll:getAll,delete:_delete};function login(username,password){return function(dispatch){dispatch(request({username:username}));userService.login(username,password).then(function(user){dispatch(success(user));history.push('/');},function(error){dispatch(failure(error.toString()));dispatch(alertActions.error(error.toString()));});};function request(user){return{type:userConstants.LOGIN_REQUEST,user:user};}function success(user){return{type:userConstants.LOGIN_SUCCESS,user:user};}function failure(error){return{type:userConstants.LOGIN_FAILURE,error:error};}}function logout(){userService.logout();return{type:userConstants.LOGOUT};}function register(user){return function(dispatch){dispatch(request(user));userService.register(user).then(function(user){dispatch(success());history.push('/login');dispatch(alertActions.success('Registration successful'));},function(error){dispatch(failure(error.toString()));dispatch(alertActions.error(error.toString()));});};function request(user){return{type:userConstants.REGISTER_REQUEST,user:user};}function success(user){return{type:userConstants.REGISTER_SUCCESS,user:user};}function failure(error){return{type:userConstants.REGISTER_FAILURE,error:error};}}function getAll(){return function(dispatch){dispatch(request());userService.getAll().then(function(users){return dispatch(success(users));},function(error){return dispatch(failure(error.toString()));});};function request(){return{type:userConstants.GETALL_REQUEST};}function success(users){return{type:userConstants.GETALL_SUCCESS,users:users};}function failure(error){return{type:userConstants.GETALL_FAILURE,error:error};}}// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id){return function(dispatch){dispatch(request(id));userService.delete(id).then(function(user){return dispatch(success(id));},function(error){return dispatch(failure(id,error.toString()));});};function request(id){return{type:userConstants.DELETE_REQUEST,id:id};}function success(id){return{type:userConstants.DELETE_SUCCESS,id:id};}function failure(id,error){return{type:userConstants.DELETE_FAILURE,id:id,error:error};}}","map":{"version":3,"names":["userConstants","userService","alertActions","history","userActions","login","logout","register","getAll","delete","_delete","username","password","dispatch","request","then","user","success","push","error","failure","toString","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","users","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","id","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE"],"sources":["C:/Users/caleb/VSchildren/SCF/src/_actions/user.actions.js"],"sourcesContent":["import { userConstants } from '../_constants';\r\nimport { userService } from '../_services';\r\nimport { alertActions } from '.';\r\nimport { history } from '../_helpers';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    delete: _delete\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => { \r\n                    dispatch(success());\r\n                    history.push('/login');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    return dispatch => {\r\n        dispatch(request(id));\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            );\r\n    };\r\n\r\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}